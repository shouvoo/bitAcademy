<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">

	.ball
	{
		height: 50px;
	}

</style>
</head>
<body>
	<h1>로또게임</h1>
	<div class="ball">
		
		<p1 id="ball0"></p1>
		<p1 id="ball1"></p1>
		<p1 id="ball2"></p1>
		<p1 id="ball3"></p1>
		<p1 id="ball4"></p1>
		<p1 id="ball5"></p1>
		
	</div>
	<button onclick="doAction();">추첨시작</button>
	
	<script type="text/javascript">
		
		var lottoArr = [];
		var interval1;
		var interval2;
		var cnt1 = -1;
		var ranNum = -1;
		
		for(var i = 1; i<=45; i++)
		{
			lottoArr.push(i + 1);
		}
	
		function doAction()
		{
			shuffle(lottoArr);
			interval1();
		}
		
		
		function interval1()
		{
			interval1 = setInterval(interval2, 1000);
			if(cnt1 > 5) clearInterval(interval1);
		}
		
		function interval2()
		{
			if(ranNum != -1) lottoArr.splice(ranNum - 1, 1);
			cnt1++;
			interval2 = setInterval(result, 100);
		}
		
		function result()
		{
			if(cnt1 < 6)
			{
				var divEle = document.querySelector("#ball" + cnt1);
				ranNum = lottoArr[parseInt(Math.floor((Math.random() * lottoArr.length)))];
				divEle.innerHTML = `<img src="images/ball${ranNum}.gif">`;
			} 
			
			if(cnt1 > 6)
			{
				clearInterval(interval2);
			}
		}
		
		function shuffle2(a) {
		    var j, x, i;
		    for (i = a.length - 1; i > 0; i--) {
		        j = Math.floor(Math.random() * (i + 1));
		        x = a[i];
		        a[i] = a[j];
		        a[j] = x;
		    }
		}

		/**
		 * Shuffles array in place. ES6 version
		 * @param {Array} a items An array containing the items.
		 */
		function shuffle(a) {
		    for (let i = a.length - 1; i > 0; i--) {
		        const j = Math.floor(Math.random() * (i + 1));
		        [a[i], a[j]] = [a[j], a[i]];
		    }
		}
		
	</script>
	
</body>
</html>































